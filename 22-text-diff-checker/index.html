<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Diff Checker - Compare Text Files</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!--
        ====================
        MAIN CONTAINER
        ====================
        This div wraps the entire Text Diff Checker application.
        LEARNING: This project demonstrates the Longest Common Subsequence (LCS) algorithm,
        file handling, character-level and line-level diffing, and advanced string comparison.
    -->
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <span class="logo-icon">‚öñÔ∏è</span>
                <h1>Text Diff Checker</h1>
            </div>
            <p class="subtitle">Find the differences between two text files</p>
        </header>

        <!--
            ====================
            TOOLBAR
            ====================
            Main action buttons and comparison options.
            LEARNING: Checkbox inputs for comparison settings.
        -->
        <div class="toolbar">
            <div class="toolbar-left">
                <!--
                    Compare Button:
                    Triggers the diff algorithm to find differences.
                    LEARNING: LCS (Longest Common Subsequence) algorithm implementation.
                -->
                <button class="btn btn-primary" id="compareBtn">
                    <span class="icon">üîç</span>
                    Find Difference
                </button>
                <button class="btn btn-secondary" id="clearBtn">
                    <span class="icon">üóëÔ∏è</span>
                    Clear All
                </button>
                <!--
                    Swap Button:
                    Exchanges content between left and right panels.
                -->
                <button class="btn btn-secondary" id="swapBtn" title="Swap texts">
                    <span class="icon">‚ÜîÔ∏è</span>
                    Swap
                </button>
            </div>
            <!--
                Comparison Options:
                Toggle settings that affect how differences are detected.
            -->
            <div class="toolbar-right">
                <label class="toggle-label">
                    <input type="checkbox" id="ignoreCase">
                    <span>Ignore Case</span>
                </label>
                <label class="toggle-label">
                    <input type="checkbox" id="ignoreWhitespace">
                    <span>Ignore Whitespace</span>
                </label>
                <label class="toggle-label">
                    <input type="checkbox" id="showInlineView">
                    <span>Inline View</span>
                </label>
            </div>
        </div>

        <!--
            ====================
            INPUT SECTION
            ====================
            Two text panels for entering/uploading text to compare.
            LEARNING: File API for reading uploaded files, Clipboard API for pasting.
        -->
        <div class="input-section" id="inputSection">
            <!-- Left Panel (Original Text) -->
            <div class="input-panel">
                <div class="panel-header">
                    <h3>Original Text</h3>
                    <!--
                        Panel Actions:
                        Upload file, paste from clipboard, or clear text.
                        LEARNING: FileReader API for reading file contents.
                    -->
                    <div class="panel-actions">
                        <button class="btn-icon" id="uploadFile1" title="Upload file">
                            üìÅ
                        </button>
                        <button class="btn-icon" id="pasteBtn1" title="Paste from clipboard">
                            üìã
                        </button>
                        <button class="btn-icon" id="clearText1" title="Clear">
                            ‚úï
                        </button>
                        <!--
                            Hidden File Input:
                            Triggered programmatically by Upload button.
                            'accept' attribute limits file types.
                        -->
                        <input type="file" id="fileInput1" accept=".txt,.js,.html,.css,.json,.md" style="display: none;">
                    </div>
                </div>
                <textarea 
                    id="text1" 
                    class="text-input" 
                    placeholder="Enter or paste your original text here...&#10;&#10;You can also:&#10;‚Ä¢ Upload a file using the üìÅ button&#10;‚Ä¢ Paste from clipboard using the üìã button&#10;‚Ä¢ Type or paste directly"></textarea>
                <!--
                    Character Count Display:
                    Real-time statistics updated on input.
                -->
                <div class="char-count">
                    <span id="count1">0</span> characters, <span id="lines1">0</span> lines
                </div>
            </div>

            <!-- Right Panel (Changed Text) -->
            <div class="input-panel">
                <div class="panel-header">
                    <h3>Changed Text</h3>
                    <div class="panel-actions">
                        <button class="btn-icon" id="uploadFile2" title="Upload file">
                            üìÅ
                        </button>
                        <button class="btn-icon" id="pasteBtn2" title="Paste from clipboard">
                            üìã
                        </button>
                        <button class="btn-icon" id="clearText2" title="Clear">
                            ‚úï
                        </button>
                        <input type="file" id="fileInput2" accept=".txt,.js,.html,.css,.json,.md" style="display: none;">
                    </div>
                </div>
                <textarea 
                    id="text2" 
                    class="text-input" 
                    placeholder="Enter or paste your changed text here...&#10;&#10;After entering text in both panels:&#10;‚Ä¢ Click 'Find Difference' to compare&#10;‚Ä¢ Differences will be highlighted&#10;‚Ä¢ Use options above to customize comparison"></textarea>
                <div class="char-count">
                    <span id="count2">0</span> characters, <span id="lines2">0</span> lines
                </div>
            </div>
        </div>

        <!--
            ====================
            RESULTS SECTION
            ====================
            Displays comparison results after diff algorithm runs.
            Initially hidden with 'style="display: none;"'.
            LEARNING: Dynamic content generation, LCS algorithm visualization.
        -->
        <div class="results-section" id="resultsSection" style="display: none;">
            <div class="results-header">
                <h2>Comparison Results</h2>
                <!--
                    Results Actions:
                    Export, copy, or return to editing.
                    LEARNING: Blob API for file downloads, Clipboard API for copying.
                -->
                <div class="results-actions">
                    <button class="btn btn-secondary" id="exportBtn">
                        <span class="icon">üíæ</span>
                        Export Results
                    </button>
                    <button class="btn btn-secondary" id="copyDiffBtn">
                        <span class="icon">üìã</span>
                        Copy Diff
                    </button>
                    <button class="btn btn-secondary" id="backToEditBtn">
                        <span class="icon">‚úèÔ∏è</span>
                        Edit Texts
                    </button>
                </div>
            </div>

            <!--
                Statistics Bar:
                Shows summary of differences found.
                LEARNING: Calculating similarity percentage using LCS length.
            -->
            <div class="stats-bar">
                <div class="stat-item added">
                    <span class="stat-icon">+</span>
                    <span class="stat-value" id="addedCount">0</span>
                    <span class="stat-label">Added</span>
                </div>
                <div class="stat-item removed">
                    <span class="stat-icon">‚àí</span>
                    <span class="stat-value" id="removedCount">0</span>
                    <span class="stat-label">Removed</span>
                </div>
                <div class="stat-item modified">
                    <span class="stat-icon">~</span>
                    <span class="stat-value" id="modifiedCount">0</span>
                    <span class="stat-label">Modified</span>
                </div>
                <div class="stat-item unchanged">
                    <span class="stat-icon">‚úì</span>
                    <span class="stat-value" id="unchangedCount">0</span>
                    <span class="stat-label">Unchanged</span>
                </div>
                <div class="stat-item similarity">
                    <span class="stat-icon">‚âà</span>
                    <span class="stat-value" id="similarityScore">0%</span>
                    <span class="stat-label">Similarity</span>
                </div>
            </div>

            <!--
                Side-by-Side View:
                Shows original and changed text in parallel columns.
                LEARNING: CSS Grid for synchronized scrolling.
            -->
            <div class="diff-view" id="sideBySideView">
                <div class="diff-panel">
                    <div class="diff-panel-header">Original Text</div>
                    <div class="diff-content" id="diff1"></div>
                </div>
                <div class="diff-panel">
                    <div class="diff-panel-header">Changed Text</div>
                    <div class="diff-content" id="diff2"></div>
                </div>
            </div>

            <!--
                Inline View:
                Shows unified diff format (like git diff).
                LEARNING: Alternative visualization method for differences.
            -->
            <div class="diff-view-inline" id="inlineView" style="display: none;">
                <div class="diff-panel-header">Unified Diff View</div>
                <div class="diff-content" id="inlineDiff"></div>
            </div>

            <!--
                Legend:
                Explains color coding used in diff visualization.
            -->
            <div class="legend">
                <h3>Legend</h3>
                <div class="legend-items">
                    <div class="legend-item">
                        <span class="legend-color added"></span>
                        <span>Added lines or characters</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color removed"></span>
                        <span>Removed lines or characters</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color modified"></span>
                        <span>Modified lines</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color unchanged"></span>
                        <span>Unchanged lines</span>
                    </div>
                </div>
            </div>
        </div>

        <!--
            ====================
            FEATURES SECTION
            ====================
            Highlights key capabilities of the diff checker.
        -->
        <div class="features-section">
            <h2>Features</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h3>Fast Comparison</h3>
                    <p>Instant line-by-line and character-level comparison</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üé®</div>
                    <h3>Syntax Highlighting</h3>
                    <p>Clear visualization of additions, deletions, and modifications</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìÅ</div>
                    <h3>File Upload</h3>
                    <p>Upload and compare text files directly</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîÑ</div>
                    <h3>Inline & Side-by-Side</h3>
                    <p>Switch between unified and split view</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚öôÔ∏è</div>
                    <h3>Flexible Options</h3>
                    <p>Ignore case, whitespace, and more</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üíæ</div>
                    <h3>Export Results</h3>
                    <p>Save comparison results as HTML or text</p>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>üéì Built for learning advanced JavaScript ‚Ä¢ String comparison algorithms ‚Ä¢ File handling</p>
        </footer>
    </div>

    <!--
        Notification Container:
        Dynamically populated with toast notifications.
        LEARNING: Creating notification systems with setTimeout for auto-dismiss.
    -->
    <div id="notifications"></div>

    <!--
        Script Inclusion:
        The JavaScript file is linked at the end of the body to ensure all HTML elements are loaded
        before the script attempts to access them, preventing potential errors.
    -->
    <script src="script.js"></script>
</body>
</html>

